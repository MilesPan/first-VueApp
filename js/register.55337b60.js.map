{"version":3,"sources":["webpack:///./src/views/register/Register.vue?3ea3","webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?329c","webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?3369","webpack:///./src/utils/isRight.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/Toast.vue?fd5d"],"names":["class","message","props","toasetData","show","toasetMessage","showToaset","setTimeout","__exports__","render","src","username","placeholder","password","type","checkpassword","autocomplete","handleRegister","to","router","data","value","console","log","result","errno","localStorage","isLogin","push","name","components","Toast","setup","isRight","trim","length","isRegisterRight","$","$trim","forcedStringTrimMethod","target","proto","forced","this","module","exports","uncurryThis","requireObjectCoercible","toString","whitespaces","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","PROPER_FUNCTION_NAME","PROPER","fails","non","METHOD_NAME"],"mappings":"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","file":"js/register.55337b60.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Register.vue?vue&type=style&index=0&id=1da3aa64&lang=scss&scoped=true\"","<template>\r\n  <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nexport default {\r\n  props: ['message']\r\n}\r\n// 对于Toaser组件相关的配置\r\nexport const useToasetEffect = () => {\r\n  const toasetData = reactive({\r\n    show: false,\r\n    toasetMessage: ''\r\n  })\r\n  // 是否展示失败框函数\r\n  // 通过改变toasetData数据\r\n  const showToaset = (message) => {\r\n    toasetData.show = true\r\n    toasetData.toasetMessage = message\r\n    setTimeout(() => {\r\n      toasetData.show = false\r\n      toasetData.toasetMessage = ''\r\n    }, 2000)\r\n  }\r\n  const { show, toasetMessage } = toRefs(toasetData)\r\n  return { show, toasetMessage, showToaset }\r\n}\r\n</script>\r\n<style lang='scss'>\r\n@import '../style/viriables.scss';\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 0.1rem;\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  border-radius: 0.05rem;\r\n  color: $bg-color;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=180fbd3c\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=180fbd3c&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\学习\\\\主流框架\\\\京东到家案例\\\\jd\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img\r\n      src=\"http://www.dell-lee.com/imgs/vue3/near.png\"\r\n      class=\"wrapper__img\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        v-model=\"username\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入用户名\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        v-model=\"password\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        type=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        v-model=\"checkpassword\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"确认密码\"\r\n        type=\"password\"\r\n        autocomplete=\"new-password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__login-button\" @click=\"handleRegister\">注册</div>\r\n    <router-link :to=\"{ name: 'Login' }\">\r\n      <div class=\"wrapper__login-link\">已拥有账号？立即返回</div>\r\n    </router-link>\r\n    <Toast v-if=\"show\" :message=\"toasetMessage\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToasetEffect } from '../../components/Toast'\r\nimport { isRegisterRight } from '../../utils/isRight'\r\n// 注册的相关配置\r\nconst useRegisterEffect = (showToaset) => {\r\n  const router = useRouter()\r\n  const data = reactive({ username: '', password: '', checkpassword: '' })\r\n  const { username, password, checkpassword } = toRefs(data)\r\n  const handleRegister = async () => {\r\n    try {\r\n      if (!isRegisterRight(username, password, checkpassword)) {\r\n        if (password.value !== checkpassword.value) {\r\n          showToaset('两次输入密码不一致')\r\n        } else {\r\n          showToaset('请输入账号密码')\r\n        }\r\n        return\r\n      }\r\n      console.log(username, password, checkpassword)\r\n      const result = await post('/api/user/register', {\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      // 接口返回的数据是正确的就跳转到home页面\r\n      if (result?.errno === 0) {\r\n        localStorage.isLogin = true\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        showToaset('注册失败')\r\n      }\r\n    } catch (e) {\r\n      showToaset('请求失败')\r\n    }\r\n  }\r\n\r\n  return { username, password, checkpassword, handleRegister }\r\n}\r\nexport default {\r\n  name: 'Register',\r\n  components: { Toast },\r\n  setup() {\r\n    // 处理注册失败弹出框\r\n    const { show, toasetMessage, showToaset } = useToasetEffect()\r\n    // 处理注册成功跳转\r\n    const {\r\n      username,\r\n      password,\r\n      checkpassword,\r\n      handleRegister\r\n    } = useRegisterEffect(showToaset)\r\n\r\n    return {\r\n      username,\r\n      password,\r\n      checkpassword,\r\n      handleRegister,\r\n      show,\r\n      toasetMessage\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    margin: 0 auto 0.4rem auto;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n  }\r\n  &__input {\r\n    box-sizing: border-box;\r\n    height: 0.48rem;\r\n    padding: 0 0.16rem;\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    background: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    &__content {\r\n      border: none;\r\n      outline: none;\r\n      line-height: 0.48rem;\r\n      width: 100%;\r\n      background-color: transparent;\r\n      font-size: 0.14rem;\r\n      color: $login-fontcolor;\r\n      &::placeholder {\r\n        font-size: 0.16rem;\r\n        color: $login-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button {\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n\r\n    background: $btn-bgColor;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    color: $bg-color;\r\n    line-height: 0.48rem;\r\n    font-size: 0.16rem;\r\n    text-align: center;\r\n  }\r\n  &__login-link {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $login-fontcolor;\r\n    letter-spacing: 0;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=1da3aa64&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=1da3aa64&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\学习\\\\主流框架\\\\京东到家案例\\\\jd\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1da3aa64\"]])\n\nexport default __exports__","export const isRight = (username, password) => {\r\n    return username.value.trim().length > 0 && password.value.trim().length > 0\r\n}\r\nexport const isRegisterRight = (username, password, checkpassword) => {\r\n    return username.value.trim().length > 0 && password.value.trim().length > 0 && checkpassword.value.trim().length > 0 && password.value.trim().length > 0 && checkpassword.value === password.value\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toast.vue?vue&type=style&index=0&id=180fbd3c&lang=scss\""],"sourceRoot":""}