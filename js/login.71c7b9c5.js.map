{"version":3,"sources":["webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?329c","webpack:///./src/utils/isRight.js","webpack:///./src/views/login/Login.vue?59e2","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/Toast.vue?fd5d","webpack:///./src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?9c35"],"names":["class","message","props","toasetData","show","toasetMessage","showToaset","setTimeout","__exports__","render","isRight","username","password","value","trim","length","isRegisterRight","checkpassword","$","$trim","forcedStringTrimMethod","target","proto","forced","this","module","exports","uncurryThis","requireObjectCoercible","toString","whitespaces","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","PROPER_FUNCTION_NAME","PROPER","fails","non","METHOD_NAME","name","src","placeholder","type","autocomplete","handleLogin","handleRegister","router","data","mobile","result","errno","localStorage","isLogin","push","components","Toast","setup"],"mappings":"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","file":"js/login.71c7b9c5.js","sourcesContent":["<template>\r\n  <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nexport default {\r\n  props: ['message']\r\n}\r\n// 对于Toaser组件相关的配置\r\nexport const useToasetEffect = () => {\r\n  const toasetData = reactive({\r\n    show: false,\r\n    toasetMessage: ''\r\n  })\r\n  // 是否展示失败框函数\r\n  // 通过改变toasetData数据\r\n  const showToaset = (message) => {\r\n    toasetData.show = true\r\n    toasetData.toasetMessage = message\r\n    setTimeout(() => {\r\n      toasetData.show = false\r\n      toasetData.toasetMessage = ''\r\n    }, 2000)\r\n  }\r\n  const { show, toasetMessage } = toRefs(toasetData)\r\n  return { show, toasetMessage, showToaset }\r\n}\r\n</script>\r\n<style lang='scss'>\r\n@import '../style/viriables.scss';\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 0.1rem;\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  border-radius: 0.05rem;\r\n  color: $bg-color;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=180fbd3c\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=180fbd3c&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\学习\\\\主流框架\\\\京东到家案例\\\\jd\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const isRight = (username, password) => {\r\n    return username.value.trim().length > 0 && password.value.trim().length > 0\r\n}\r\nexport const isRegisterRight = (username, password, checkpassword) => {\r\n    return username.value.trim().length > 0 && password.value.trim().length > 0 && checkpassword.value.trim().length > 0 && password.value.trim().length > 0 && checkpassword.value === password.value\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=1ecb8b94&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toast.vue?vue&type=style&index=0&id=180fbd3c&lang=scss\"","<template>\r\n  <div class=\"wrapper\">\r\n    <img\r\n      src=\"http://www.dell-lee.com/imgs/vue3/near.png\"\r\n      class=\"wrapper__img\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        v-model=\"username\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"用户名\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        v-model=\"password\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        type=\"password\"\r\n        autocomplete=\"new-password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__login-button\" @click=\"handleLogin\">登录</div>\r\n    <div class=\"wrapper__login-link\">\r\n      <span class=\"wrapper__login-link-registered\" @click=\"handleRegister\"\r\n        >立即注册</span\r\n      >\r\n      <span class=\"wrapper__login-link-forget\">忘记密码</span>\r\n    </div>\r\n    <Toast v-if=\"show\" :message=\"toasetMessage\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToasetEffect } from '../../components/Toast'\r\nimport { isRight } from '../../utils/isRight'\r\n\r\nconst useLoginEffect = (showToaset) => {\r\n  const router = useRouter()\r\n  const data = reactive({ username: '', password: '' })\r\n  const { username, password } = toRefs(data)\r\n  const handleLogin = async () => {\r\n    try {\r\n      if (!isRight(username, password)) {\r\n        showToaset('请填写用户名和密码')\r\n        return\r\n      }\r\n      const result = await post('/api/user/login', {\r\n        mobile: username,\r\n        password: password\r\n      })\r\n      // 接口返回的数据是正确的就跳转到home页面\r\n      if (result?.errno === 0) {\r\n        localStorage.isLogin = true\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        showToaset('登录失败')\r\n      }\r\n    } catch (e) {\r\n      showToaset('请求失败')\r\n    }\r\n  }\r\n\r\n  return { username, password, handleLogin }\r\n}\r\nconst useRegisterEffect = () => {\r\n  // 使用路由跳转页面\r\n  const router = useRouter()\r\n  const handleRegister = () => {\r\n    router.push({ name: 'Register' })\r\n  }\r\n  return { handleRegister }\r\n}\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: { Toast },\r\n  // 职责就是表明代码执行的流程\r\n  setup() {\r\n    // Toaset组件相关逻辑\r\n    const { show, toasetMessage, showToaset } = useToasetEffect()\r\n    // Login组件相关逻辑\r\n    const { username, password, handleLogin } = useLoginEffect(showToaset)\r\n    // 注册的逻辑\r\n    const { handleRegister } = useRegisterEffect()\r\n\r\n    return {\r\n      handleLogin,\r\n      handleRegister,\r\n      username,\r\n      password,\r\n      show,\r\n      toasetMessage\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    margin: 0 auto 0.4rem auto;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n  }\r\n  &__input {\r\n    box-sizing: border-box;\r\n    height: 0.48rem;\r\n    padding: 0 0.16rem;\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    background: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    &__content {\r\n      margin-top: 0.12rem;\r\n      border: none;\r\n      outline: none;\r\n      line-height: 0.22rem;\r\n      width: 100%;\r\n      background-color: transparent;\r\n      font-size: 0.14rem;\r\n      color: $login-fontcolor;\r\n      &::placeholder {\r\n        font-size: 0.16rem;\r\n        color: $login-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button {\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n\r\n    background: $btn-bgColor;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    color: $bg-color;\r\n    line-height: 0.48rem;\r\n    font-size: 0.16rem;\r\n    text-align: center;\r\n  }\r\n  &__login-link {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $login-fontcolor;\r\n    letter-spacing: 0;\r\n    &-registered {\r\n      margin-right: 0.08rem;\r\n      padding-right: 0.08rem;\r\n      border-right: 0.01rem solid $login-fontcolor;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=1ecb8b94&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=1ecb8b94&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\学习\\\\主流框架\\\\京东到家案例\\\\jd\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ecb8b94\"]])\n\nexport default __exports__"],"sourceRoot":""}